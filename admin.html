<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Velora — لوحة التحكم</title>
<style>
  body{margin:0;font-family:'Cairo',sans-serif;background:#f9f9fb;color:#333}
  header{background:#d63384;color:white;padding:14px;font-weight:900;font-size:18px}
  .container{max-width:1200px;margin:20px auto;padding:0 16px}
  .grid{display:grid;grid-template-columns:250px 1fr;gap:20px}
  nav{background:#fff;padding:16px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,0.06)}
  nav ul{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:10px}
  nav li{padding:10px;border-radius:8px;cursor:pointer;font-weight:600;color:#555}
  nav li.active,nav li:hover{background:#fff0f6;color:#d63384}
  main{background:#fff;padding:16px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,0.06)}
  h2{margin-top:0;color:#d63384}
  table{width:100%;border-collapse:collapse;margin-top:12px}
  th,td{padding:10px;border-bottom:1px solid #eee;text-align:right}
  th{background:#faf0f6;color:#d63384}
  button{padding:6px 10px;border:none;border-radius:6px;cursor:pointer;font-weight:700}
  .btn-add{background:#d63384;color:white;margin-bottom:12px}
  .btn-edit{background:#ffc107;color:#111}
  .btn-del{background:#dc3545;color:white}
  form input,form textarea{width:100%;padding:8px;border:1px solid #ddd;border-radius:8px;margin-bottom:10px}
  form button{background:#28a745;color:white;width:100%}
</style>
</head>
<body>
  <header>📊 Velora — لوحة التحكم</header>
  <div class="container">
    <div class="grid">
      <!-- القائمة -->
      <nav>
        <ul>
          <li class="active" onclick="showSection('products')">📦 المنتجات</li>
          <li onclick="showSection('orders')">🧾 الطلبات</li>
          <li onclick="showSection('categories')">📂 التصنيفات</li>
          <li onclick="showSection('addProduct')">➕ إضافة منتج</li>
        </ul>
      </nav>

      <!-- المحتوى -->
      <main>
        <!-- المنتجات -->
        <section id="products">
          <h2>إدارة المنتجات</h2>
          <button class="btn-add" onclick="showSection('addProduct')">+ منتج جديد</button>
          <table>
            <thead>
              <tr><th>الاسم</th><th>السعر</th><th>التصنيف</th><th>خيارات</th></tr>
            </thead>
            <tbody id="prodTable"></tbody>
          </table>
        </section>

        <!-- الطلبات -->
        <section id="orders" style="display:none">
          <h2>الطلبات</h2>
          <div id="ordersList">لا توجد طلبات بعد.</div>
        </section>

        <!-- التصنيفات -->
        <section id="categories" style="display:none">
          <h2>التصنيفات</h2>
          <ul id="catList"></ul>
        </section>

        <!-- إضافة منتج -->
        <section id="addProduct" style="display:none">
          <h2>إضافة منتج جديد</h2>
          <form id="prodForm">
            <input name="title" placeholder="اسم المنتج" required />
            <input name="price" type="number" placeholder="السعر" required />
            <input name="cat" placeholder="التصنيف" required />
            <input name="img" placeholder="رابط الصورة" required />
            <textarea name="desc" placeholder="الوصف"></textarea>
            <button type="submit">إضافة المنتج</button>
          </form>
        </section>
      </main>
    </div>
  </div>

<script>
let PRODUCTS = [
  {id:1,title:"كريم ترطيب",price:25,cat:"العناية بالبشرة",img:"",desc:""},
  {id:2,title:"أحمر شفاه",price:35,cat:"مكياج",img:"",desc:""}
];

function showSection(id){
  document.querySelectorAll('main section').forEach(s=>s.style.display='none');
  document.getElementById(id).style.display='block';
  document.querySelectorAll('nav li').forEach(li=>li.classList.remove('active'));
  [...document.querySelectorAll('nav li')].find(li=>li.textContent.includes(document.getElementById(id).querySelector('h2').textContent.split(' ')[0])).classList.add('active');
  if(id==='products') renderProducts();
}

function renderProducts(){
  const tb=document.getElementById('prodTable');
  tb.innerHTML='';
  PRODUCTS.forEach(p=>{
    tb.innerHTML+=`<tr>
      <td>${p.title}</td>
      <td>${p.price} د.ل</td>
      <td>${p.cat}</td>
      <td>
        <button class="btn-edit">تعديل</button>
        <button class="btn-del" onclick="delProd(${p.id})">حذف</button>
      </td>
    </tr>`;
  });
}

function delProd(id){
  PRODUCTS = PRODUCTS.filter(p=>p.id!==id);
  renderProducts();
}

document.getElementById('prodForm').onsubmit=function(e){
  e.preventDefault();
  const fd=new FormData(this);
  const prod=Object.fromEntries(fd.entries());
  prod.id=Date.now();
  PRODUCTS.push(prod);
  alert("تمت إضافة المنتج بنجاح");
  this.reset();
  showSection('products');
}

renderProducts();
</script>
</body>
</html>
