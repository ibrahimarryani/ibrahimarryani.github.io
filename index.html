<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Velora â€” Ù…ØªØ¬Ø±</title>
<link rel="preconnect" href="https://fonts.gstatic.com">
<style>
  /* ---------- Fonts & base ---------- */
  @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap');
  :root{
    --accent:#d63384;
    --accent-dark:#b12b66;
    --muted:#6f6f75;
    --card-bg:#ffffff;
    --page-bg:linear-gradient(180deg,#fff 0%, #fff7fb 100%);
    --maxw:1200px;
    --delivery-fee:10;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:'Cairo',system-ui,Arial; background:var(--page-bg); color:#111}
  a{color:inherit}
  img{max-width:100%;display:block}

  /* ---------- header/top ---------- */
  .topbar{background:linear-gradient(90deg,var(--accent),#f48fb1);color:white;position:sticky;top:0;z-index:1200;box-shadow:0 8px 28px rgba(0,0,0,0.08)}
  .topbar .wrap{max-width:var(--maxw);margin:0 auto;display:flex;align-items:center;gap:12px;padding:12px}
  .brand{display:flex;align-items:center;gap:10px}
  .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,#fff4fb,#fff0f6);display:flex;align-items:center;justify-content:center;font-weight:900;color:var(--accent-dark);font-size:20px;box-shadow:0 6px 18px rgba(182,85,136,0.12)}
  .brand .title{font-weight:900;font-size:18px}
  .searchbox{flex:1;display:flex;gap:8px;align-items:center}
  .searchbox input{width:100%;padding:10px 14px;border-radius:10px;border:0;outline:none;box-shadow:0 6px 18px rgba(0,0,0,0.06)}
  .top-actions{display:flex;gap:8px;align-items:center}
  .pill{background:rgba(255,255,255,0.12);padding:8px 12px;border-radius:999px;font-weight:700}

  /* ---------- categories horizontal (mobile) ---------- */
  .cats-bar{display:flex;gap:10px;padding:10px;overflow:auto;background:transparent;max-width:var(--maxw);margin:0 auto}
  .cat-pill{flex:0 0 auto;padding:8px 12px;border-radius:999px;background:white;border:1px solid rgba(0,0,0,0.04);font-weight:700;color:var(--muted);cursor:pointer}
  .cat-pill.active{background:linear-gradient(90deg,#fff0f6,#fff4fb);color:var(--accent)}

  /* ---------- hero/banner + slider ---------- */
  .hero{max-width:var(--maxw);margin:20px auto;padding:0 14px}
  .hero-grid{display:grid;grid-template-columns:1fr 420px;gap:18px;align-items:center}
  .hero-card{background:linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.9));padding:22px;border-radius:14px;box-shadow:0 12px 40px rgba(8,8,20,0.06);display:flex;gap:18px}
  .hero-media{flex:1;border-radius:12px;overflow:hidden;position:relative}
  .hero-media img{width:100%;height:300px;object-fit:cover;display:block}
  .hero-cta{padding:10px 0}
  .hero-cta h1{margin:0;font-size:26px;color:var(--accent-dark)}
  .hero-cta p{margin:8px 0 16px;color:var(--muted)}
  .cta-btn{background:var(--accent);color:white;padding:10px 14px;border-radius:8px;text-decoration:none;font-weight:800}
  .hero-controls{position:absolute;left:12px;bottom:12px;display:flex;gap:8px}
  .dot{width:10px;height:10px;border-radius:999px;background:rgba(255,255,255,0.6);cursor:pointer}
  .dot.active{background:white;box-shadow:0 6px 18px rgba(0,0,0,0.15)}

  .sidebar-card{background:var(--card-bg);padding:16px;border-radius:12px;box-shadow:0 8px 30px rgba(8,8,20,0.06)}
  .sidebar-card h4{margin:0 0 8px;color:var(--accent-dark)}

  /* ---------- main layout: left categories, center products, right sidebar ---------- */
  .main-wrap{max-width:var(--maxw);margin:20px auto;padding:0 14px;display:grid;grid-template-columns:220px 1fr 320px;gap:18px;align-items:start}
  .left-col{display:flex;flex-direction:column;gap:12px}
  .category-list{background:var(--card-bg);padding:12px;border-radius:12px;box-shadow:0 8px 30px rgba(8,8,20,0.06)}
  .category-list h3{margin:0 0 8px}
  .category-list ul{list-style:none;padding:0;margin:0}
  .category-list li{padding:10px;border-radius:8px;margin-bottom:8px;color:var(--muted);cursor:pointer}
  .category-list li.active{background:linear-gradient(90deg,#fff0f6,#fff4fb);color:var(--accent);font-weight:800}

  .center-col{display:flex;flex-direction:column;gap:20px}
  .section-title{display:flex;justify-content:space-between;align-items:center}
  .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px}

  .product-card{background:var(--card-bg);border-radius:12px;overflow:hidden;box-shadow:0 10px 30px rgba(8,8,20,0.06);display:flex;flex-direction:column;transition:transform .18s}
  .product-card:hover{transform:translateY(-6px)}
  .product-media{height:170px;overflow:hidden}
  .product-media img{width:100%;height:100%;object-fit:cover}
  .product-body{padding:12px;display:flex;flex-direction:column;gap:8px;flex:1}
  .product-title{font-weight:800;color:#111;margin:0;font-size:15px}
  .product-desc{font-size:13px;color:var(--muted);margin:0}
  .price-row{display:flex;justify-content:space-between;align-items:center;margin-top:auto}
  .price{font-weight:900;color:var(--accent);font-size:15px}
  .stars{color:#f5b400;font-weight:800;font-size:14px}

  /* ---------- sidebar widgets ---------- */
  .sidebar .widget{margin-bottom:14px;background:var(--card-bg);padding:14px;border-radius:12px;box-shadow:0 10px 30px rgba(8,8,20,0.06)}
  .vendor-logos{display:flex;gap:8px;flex-wrap:wrap}
  .vendor-logos img{width:80px;height:40px;object-fit:contain;background:#fff;padding:6px;border-radius:8px}

  /* ---------- cart floating & drawer simple ---------- */
  .cart-fab{position:fixed;left:16px;bottom:18px;background:var(--accent);color:white;padding:12px 14px;border-radius:999px;z-index:1400;box-shadow:0 12px 36px rgba(182,85,136,0.22);display:flex;gap:8px;align-items:center;cursor:pointer}
  .drawer{position:fixed;top:0;right:0;height:100vh;width:100%;max-width:420px;background:rgba(255,255,255,0.98);box-shadow:-20px 0 40px rgba(0,0,0,0.12);transform:translateX(110%);transition:transform .28s;z-index:1500;padding:16px;overflow:auto}
  .drawer.open{transform:translateX(0)}

  /* ---------- reviews & footer ---------- */
  .reviews{display:flex;gap:12px;overflow:auto;padding-bottom:8px}
  .review{min-width:240px;background:linear-gradient(180deg,#fff,#fff8fb);padding:12px;border-radius:10px;box-shadow:0 8px 20px rgba(0,0,0,0.06)}
  footer{background:#111;padding:24px;color:#ddd;margin-top:34px}
  footer .cols{display:flex;gap:20px;flex-wrap:wrap;max-width:var(--maxw);margin:0 auto}

  /* ---------- responsive ---------- */
  @media(max-width:1100px){
    .main-wrap{grid-template-columns:1fr}
    .hero-grid{grid-template-columns:1fr}
    .left-col{order:2}
    .sidebar{order:3}
  }
  @media(max-width:600px){
    .topbar .wrap{flex-direction:column;align-items:flex-start}
    .searchbox{width:100%}
    .hero-media img{height:180px;object-fit:cover}
    .product-media{height:150px}
    .cats-bar{display:flex;padding:8px}
  }
</style>
</head>
<body>

  <!-- TOPBAR -->
  <div class="topbar" role="banner">
    <div class="wrap">
      <div class="brand">
        <div class="logo">V</div>
        <div>
          <div class="title">Velora</div>
          <div style="font-size:12px;color:rgba(255,255,255,0.9)">ÙƒÙ„ Ù…Ø§ ÙŠÙ‡Ù… Ø¬Ù…Ø§Ù„Ùƒ</div>
        </div>
      </div>

      <div class="searchbox">
        <input id="globalSearch" placeholder="Ø§Ø¨Ø­Ø«ÙŠ Ø¹Ù† Ù…Ù†ØªØ¬ØŒ ÙØ¦Ø© Ø£Ùˆ Ù…Ø§Ø±ÙƒØ©..." />
      </div>

      <div class="top-actions">
        <div class="pill">Ø§Ù„Ø´Ø­Ù†: Ø·Ø±Ø§Ø¨Ù„Ø³ 10 Ø¯.Ù„</div>
        <a class="pill" href="https://wa.me/218917612263" target="_blank">ÙˆØ§ØªØ³Ø§Ø¨</a>
      </div>
    </div>
  </div>

  <!-- categories row (mobile quick pills) -->
  <div class="cats-bar" id="catsBar"></div>

  <!-- HERO -->
  <div class="hero">
    <div class="hero-grid container">
      <div class="hero-card">
        <div class="hero-media">
          <img id="heroImage" src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=1400&auto=format&fit=crop" alt="Ø¨Ø§Ù†Ø±">
          <div class="hero-controls" style="left:12px;bottom:12px">
            <div class="dot active" data-i="0"></div>
            <div class="dot" data-i="1"></div>
            <div class="dot" data-i="2"></div>
          </div>
        </div>
        <div class="hero-cta">
          <h1>Velora â€” Ø¬Ù…Ø§Ù„Ùƒ ÙŠØ¨Ø¯Ø£ Ù…Ù† Ù‡Ù†Ø§</h1>
          <p>Ù…Ù†ØªØ¬Ø§Øª Ù…Ø®ØªØ§Ø±Ø© Ø¨Ø¹Ù†Ø§ÙŠØ©ØŒ Ø¹Ø±ÙˆØ¶ Ø­ØµØ±ÙŠØ©ØŒ ÙˆØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹ Ø¯Ø§Ø®Ù„ Ø·Ø±Ø§Ø¨Ù„Ø³.</p>
          <div style="display:flex;gap:10px">
            <a class="cta-btn" href="#offers">ØªØ³ÙˆÙ‚ Ø§Ù„Ø¹Ø±ÙˆØ¶</a>
            <a class="cta-btn" href="#skincare" style="background:#fff;color:var(--accent);border:2px solid rgba(0,0,0,0.04)">Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¹Ù†Ø§ÙŠØ©</a>
          </div>
          <div style="margin-top:12px;color:var(--muted);font-size:13px">Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… â€” Ø§Ù„ØªÙˆØµÙŠÙ„ ÙÙ‚Ø· Ø¯Ø§Ø®Ù„ Ø·Ø±Ø§Ø¨Ù„Ø³</div>
        </div>
      </div>

      <aside class="sidebar-card" style="height:100%;">
        <h4>ØªÙˆØ§ØµÙ„ Ø³Ø±ÙŠØ¹</h4>
        <div style="margin-top:8px">Ù„Ù„Ø·Ù„Ø¨Ø§Øª: <a href="https://wa.me/218917612263" target="_blank">+218 91 761 2263</a></div>
        <hr style="margin:12px 0;border:none;border-top:1px solid rgba(0,0,0,0.06)">
        <h4>Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ø§Ø±ÙƒØ§Øª</h4>
        <div class="vendor-logos" id="vendors"></div>
      </aside>
    </div>
  </div>

  <!-- MAIN -->
  <div class="main-wrap">

    <!-- LEFT: categories -->
    <div class="left-col">
      <div class="category-list">
        <h3>Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</h3>
        <ul id="catList"></ul>
      </div>

      <div class="category-list">
        <h3>Ù…Ø²Ø§ÙŠØ§ Velora</h3>
        <ul style="color:var(--muted)">
          <li>âœ” Ù…Ù†ØªØ¬Ø§Øª Ø£ØµÙ„ÙŠØ©</li>
          <li>ğŸšš ØªÙˆØµÙŠÙ„ Ø¯Ø§Ø®Ù„ Ø·Ø±Ø§Ø¨Ù„Ø³</li>
          <li>ğŸ’³ Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</li>
        </ul>
      </div>
    </div>

    <!-- CENTER: products -->
    <div class="center-col">

      <!-- Best Sellers -->
      <div class="section">
        <div class="section-title">
          <h3>Ø§Ù„Ø£ÙƒØ«Ø± Ù…Ø¨ÙŠØ¹Ø§Ù‹</h3>
          <div style="color:var(--muted)">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ÙØ¶Ù„Ø© Ø¹Ù†Ø¯ Ø¹Ù…Ù„Ø§Ø¦Ù†Ø§</div>
        </div>
        <div class="grid" id="bestGrid"></div>
      </div>

      <!-- Popular Products -->
      <div class="section">
        <div class="section-title">
          <h3>Ù…Ù†ØªØ¬Ø§Øª Ø´Ø¹Ø¨ÙŠØ©</h3>
          <div style="color:var(--muted)">Ù…Ù†ØªØ¬Ø§Øª ØªÙ„Ù‚Ù‰ Ø·Ù„Ø¨Ø§Ù‹ Ø¹Ø§Ù„ÙŠØ§Ù‹</div>
        </div>
        <div class="grid" id="popularGrid"></div>
      </div>

    </div>

    <!-- RIGHT: sidebar -->
    <div class="right sidebar">
      <div class="widget">
        <h4>Ø§Ø¨Ø­Ø« Ø³Ø±ÙŠØ¹Ø§Ù‹</h4>
        <input id="quickSearch" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ Ø£Ùˆ Ø§Ù„ÙØ¦Ø©" style="width:100%;padding:10px;border-radius:8px;border:1px solid #eee" />
        <div style="display:flex;gap:10px;margin-top:10px">
          <button id="searchBtn" class="cta-btn" style="background:var(--accent);color:#fff;border:none">Ø§Ø¨Ø­Ø«</button>
        </div>
      </div>

      <div class="widget">
        <h4>Ø´Ø±ÙƒØ§ØªÙ†Ø§</h4>
        <div class="vendor-logos" id="vendorLogos"></div>
      </div>

      <div class="widget">
        <h4>Ø«Ù‚Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h4>
        <div style="display:flex;flex-direction:column;gap:10px">
          <div style="font-weight:800">â˜…â˜…â˜…â˜…â˜… 4.8/5</div>
          <div style="color:var(--muted);font-size:14px">Ø£ÙƒØ«Ø± Ù…Ù† 1000 Ø¹Ù…ÙŠÙ„Ø© Ø±Ø§Ø¶ÙŠØ©</div>
        </div>
      </div>

    </div>
  </div>

  <!-- REVIEWS -->
  <div class="container" style="margin-top:22px">
    <h3 style="color:var(--accent)">Ø¢Ø±Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h3>
    <div class="reviews" id="reviews"></div>
  </div>

  <!-- OFFERS (summary) -->
  <div class="container" style="margin-top:22px">
    <div class="section">
      <h3>Ø¹Ø±ÙˆØ¶ Ø®Ø§ØµØ©</h3>
      <div style="display:flex;gap:12px;flex-wrap:wrap">
        <div style="min-width:220px;background:linear-gradient(90deg,#fff7fb,#fff);padding:12px;border-radius:12px;box-shadow:0 8px 20px rgba(0,0,0,0.06)"><strong>Ø®ØµÙ… 20%</strong><div style="color:var(--muted)">Ø¹Ù„Ù‰ ÙƒØ±ÙŠÙ…Ø§Øª Ø§Ù„Ø¹Ù†Ø§ÙŠØ©</div></div>
        <div style="min-width:220px;background:linear-gradient(90deg,#fff7fb,#fff);padding:12px;border-radius:12px;box-shadow:0 8px 20px rgba(0,0,0,0.06)"><strong>Ø¨Ø§Ù‚Ø© Ø§Ù„Ø¬Ù…Ø§Ù„</strong><div style="color:var(--muted)">ÙƒØ±ÙŠÙ… + Ø³ÙŠØ±ÙˆÙ… + Ø¹Ø·Ø± Ø¨Ø³Ø¹Ø± Ù…Ù…ÙŠØ²</div></div>
      </div>
    </div>
  </div>

  <!-- CONTACT -->
  <div class="container" style="margin-top:22px">
    <div class="section">
      <h3>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
      <p>Ù„Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ Ø£Ùˆ Ø§Ù„Ø§ØªØµØ§Ù„: <a href="tel:+218917612263">+218 91 761 2263</a></p>
    </div>
  </div>

  <!-- FOOTER -->
  <footer>
    <div class="cols">
      <div style="flex:1;min-width:220px">
        <h4 style="color:white">Velora</h4>
        <div style="color:rgba(255,255,255,0.8)">Ù…ØªØ¬Ø± Ø±Ø§Ø¦Ø¯ ÙÙŠ Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØªØ¬Ù…ÙŠÙ„ ÙˆØ§Ù„Ø¹Ù†Ø§ÙŠØ© â€” ØªÙˆØµÙŠÙ„ Ø¯Ø§Ø®Ù„ Ø·Ø±Ø§Ø¨Ù„Ø³.</div>
      </div>
      <div style="min-width:150px">
        <h4 style="color:white">Ø±ÙˆØ§Ø¨Ø·</h4>
        <div><a href="#skincare">Ø§Ù„Ø¹Ù†Ø§ÙŠØ© Ø¨Ø§Ù„Ø¨Ø´Ø±Ø©</a></div>
        <div><a href="#makeup">Ø§Ù„Ù…ÙƒÙŠØ§Ø¬</a></div>
        <div><a href="#offers">Ø§Ù„Ø¹Ø±ÙˆØ¶</a></div>
      </div>
      <div style="min-width:200px">
        <h4 style="color:white">ØªÙˆØ§ØµÙ„</h4>
        <div><a href="https://wa.me/218917612263">ÙˆØ§ØªØ³Ø§Ø¨: +218 91 761 2263</a></div>
        <div>Ø·Ø±Ø§Ø¨Ù„Ø³ â€” Ù„ÙŠØ¨ÙŠØ§</div>
      </div>
    </div>
    <div style="margin-top:12px;color:#ffccf0">Â© 2025 Velora â€” Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</div>
  </footer>

  <!-- CART FAB & DRAWER -->
  <div class="cart-fab" id="cartFab">ğŸ›’ <span id="fabCount">0</span></div>

  <div class="drawer" id="cartDrawer" aria-hidden="true">
    <h3>Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3>
    <div id="cartItems"></div>
    <div style="margin-top:12px;display:flex;justify-content:space-between"><strong>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø¬Ø²Ø¦ÙŠ</strong><strong id="subtotal">0 Ø¯.Ù„</strong></div>
    <div style="display:flex;justify-content:space-between"><div>Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„</div><div id="deliveryFee">10 Ø¯.Ù„</div></div>
    <div style="display:flex;justify-content:space-between;font-weight:900;margin-top:8px"><div>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div><div id="totalAmount">0 Ø¯.Ù„</div></div>

    <hr style="margin:12px 0">
    <form id="orderForm">
      <input name="name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required style="width:100%;padding:10px;border-radius:8px;border:1px solid #ddd;margin-bottom:8px" />
      <input name="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required style="width:100%;padding:10px;border-radius:8px;border:1px solid #ddd;margin-bottom:8px" />
      <textarea name="address" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØ§Ù…Ù„" required style="width:100%;padding:10px;border-radius:8px;border:1px solid #ddd;margin-bottom:8px"></textarea>
      <button type="submit" class="cta-btn" style="width:100%;border:none">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
    </form>
    <div id="orderMsg" style="margin-top:12px;color:green;font-weight:800"></div>
  </div>

<script>
/* ===========================
   JavaScript ÙƒØ§Ù…Ù„ Ù„Ù„ØµÙØ­Ø©
   =========================== */

const WA = '218917612263'; // Ø±Ù‚Ù…Ùƒ
const DELIVERY = Number(getComputedStyle(document.documentElement).getPropertyValue('--delivery-fee')) || 10;

/* ===== Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (ØªÙ‚Ø¯Ø± ØªØºÙŠØ±Ù‡Ø§) ===== */
const CATEGORIES = ['Ø§Ù„ÙƒÙ„','Ø§Ù„Ø¹Ù†Ø§ÙŠØ© Ø¨Ø§Ù„Ø¨Ø´Ø±Ø©','Ù…ÙƒÙŠØ§Ø¬','Ø¹Ø·ÙˆØ±','Ø§ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª','Ø¹Ø±ÙˆØ¶ Ø®Ø§ØµØ©'];
const VENDORS = [
  'https://images.unsplash.com/photo-1542291026-7eec264c27ff?q=80&w=400&auto=format&fit=crop',
  'https://images.unsplash.com/photo-1523275335684-37898b6baf30?q=80&w=400&auto=format&fit=crop',
  'https://images.unsplash.com/photo-1545239351-1141bd82e8a6?q=80&w=400&auto=format&fit=crop'
];

const PRODUCTS = [
  {id:101,cat:'Ø§Ù„Ø¹Ù†Ø§ÙŠØ© Ø¨Ø§Ù„Ø¨Ø´Ø±Ø©', title:'ÙƒØ±ÙŠÙ… ØªØ±Ø·ÙŠØ¨ ÙØ§Ø®Ø±', price:25, img:'https://images.unsplash.com/photo-1607746882042-944635dfe10e?q=80&w=800&auto=format&fit=crop', desc:'ØªØ±Ø·ÙŠØ¨ Ø¹Ù…ÙŠÙ‚ Ù„Ø¨Ø´Ø±Ø© Ù†Ø§Ø¹Ù…Ø© ÙˆØ¥Ø´Ø±Ø§Ù‚Ø© ØµØ­ÙŠØ©.', stars:5},
  {id:102,cat:'Ø§Ù„Ø¹Ù†Ø§ÙŠØ© Ø¨Ø§Ù„Ø¨Ø´Ø±Ø©', title:'Ø³ÙŠØ±ÙˆÙ… ÙÙŠØªØ§Ù…ÙŠÙ† C', price:60, img:'https://images.unsplash.com/photo-1582719478173-7eea52b2a4d0?q=80&w=800&auto=format&fit=crop', desc:'ØªÙØªÙŠØ­ ÙˆØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø¨Ù‚Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†Ø©.', stars:5},
  {id:103,cat:'Ø§Ù„Ø¹Ù†Ø§ÙŠØ© Ø¨Ø§Ù„Ø¨Ø´Ø±Ø©', title:'Ù…Ø§Ø³Ùƒ Ø·ÙŠÙ†ÙŠ Ø·Ø¨ÙŠØ¹ÙŠ', price:20, img:'https://images.unsplash.com/photo-1586201375761-83865001e0a2?q=80&w=800&auto=format&fit=crop', desc:'ØªÙ†Ø¸ÙŠÙ Ø¹Ù…ÙŠÙ‚ ÙˆØ§Ù…ØªØµØ§Øµ Ø§Ù„Ø²ÙŠÙˆØª.', stars:4},
  {id:201,cat:'Ù…ÙƒÙŠØ§Ø¬', title:'Ø·Ù‚Ù… Ù…ÙƒÙŠØ§Ø¬ Ø§Ø­ØªØ±Ø§ÙÙŠ', price:85, img:'https://images.unsplash.com/photo-1543168258-9f15c4a0b1c2?q=80&w=800&auto=format&fit=crop', desc:'Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„Ø¥Ø·Ù„Ø§Ù„Ø© Ù…Ø«Ø§Ù„ÙŠØ©.', stars:5},
  {id:202,cat:'Ù…ÙƒÙŠØ§Ø¬', title:'Ø£Ø­Ù…Ø± Ø´ÙØ§Ù‡ Ù…Ø®Ù…Ù„ÙŠ', price:35, img:'https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?q=80&w=800&auto=format&fit=crop', desc:'Ø£Ù„ÙˆØ§Ù† Ø«Ø§Ø¨ØªØ© ÙˆØªØ±Ø·ÙŠØ¨ Ù…Ø«Ø§Ù„ÙŠ.', stars:4},
  {id:301,cat:'Ø¹Ø·ÙˆØ±', title:'Ø¹Ø·Ø± Ø²Ù‡Ø±ÙŠ ÙØ§Ø®Ø±', price:120, img:'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?q=80&w=800&auto=format&fit=crop', desc:'Ø¹Ø¨ÙŠØ± Ø£Ù†Ø«ÙˆÙŠ Ø³Ø§Ø­Ø± ÙŠØ¯ÙˆÙ… Ø·ÙˆÙŠÙ„Ø§Ù‹.', stars:5},
  {id:302,cat:'Ø¹Ø·ÙˆØ±', title:'Ø¹Ø·Ø± Ù„ÙŠÙ„ÙŠ Ø£Ù†ÙŠÙ‚', price:150, img:'https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?q=80&w=800&auto=format&fit=crop', desc:'ØªØ±ÙƒÙŠØ¨Ø© ØºÙ†ÙŠØ© Ù„Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø¦ÙŠØ©.', stars:5},
  {id:401,cat:'Ø§ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª', title:'Ø­Ù‚ÙŠØ¨Ø© ÙŠØ¯ ÙØ§Ø®Ø±Ø©', price:220, img:'https://images.unsplash.com/photo-1503341455253-b2e723bb3dbb?q=80&w=800&auto=format&fit=crop', desc:'ØªØµÙ…ÙŠÙ… Ø£Ù†ÙŠÙ‚ ÙˆØ®Ø§Ù…Ø§Øª Ø¹Ø§Ù„ÙŠØ©.', stars:5},
  {id:402,cat:'Ø§ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª', title:'Ø¹Ù‚Ø¯ Ø°Ù‡Ø¨ÙŠ Ù…Ø·ÙÙŠ', price:95, img:'https://images.unsplash.com/photo-1543163521-1bf9b1d1145f?q=80&w=800&auto=format&fit=crop', desc:'ØªÙØ§ØµÙŠÙ„ Ø¯Ù‚ÙŠÙ‚Ø© ØªØ¶ÙŠÙ ÙØ®Ø§Ù…Ø©.', stars:4},
  {id:501,cat:'Ø¹Ø±ÙˆØ¶ Ø®Ø§ØµØ©', title:'Ø¨Ø§Ù†Ø¯Ù„ Ø§Ù„Ø¬Ù…Ø§Ù„ Ø§Ù„Ø´Ø§Ù…Ù„', price:180, img:'https://images.unsplash.com/photo-1492562080023-ab3db95bfbce?q=80&w=800&auto=format&fit=crop', desc:'Ø­Ø²Ù…Ø© Ù…Ù…ÙŠØ²Ø© Ø¨Ø³Ø¹Ø± Ø®Ø§Øµ.', stars:5}
];

const REVIEWS = [
  {name:'Ø³Ø§Ø±Ø©',stars:5,txt:'Ø®Ø¯Ù…Ø© Ù…Ù…ØªØ§Ø²Ø© ÙˆØ§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø£ØµÙ„ÙŠØ©ØŒ ÙˆØµÙ„Øª Ø¨Ø³Ø±Ø¹Ø©.'},
  {name:'Ù…Ø±ÙŠÙ…',stars:5,txt:'Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ© ÙˆØ£Ø³Ø¹Ø§Ø± Ù…Ù†Ø§Ø³Ø¨Ø©.'},
  {name:'Ù†ÙˆØ±Ø©',stars:4,txt:'Ø§Ù„ØªØºÙ„ÙŠÙ Ø±Ø§Ù‚ÙŠ ÙˆØ§Ù„ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹.'}
];

/* ===== Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ===== */
const catsBar = document.getElementById('catsBar');
const catListEl = document.getElementById('catList');
const vendorsEl = document.getElementById('vendors');
const vendorLogos = document.getElementById('vendorLogos');
const bestGrid = document.getElementById('bestGrid');
const popularGrid = document.getElementById('popularGrid');
const reviewsEl = document.getElementById('reviews');
const heroImage = document.getElementById('heroImage');

let cart = JSON.parse(localStorage.getItem('velora_cart')||'[]');

/* ===== ÙˆØ¸Ø§Ø¦Ù Ø¹Ø±Ø¶ ===== */
function renderCats(){
  catsBar.innerHTML=''; catListEl.innerHTML='';
  CATEGORIES.forEach((c,i)=>{
    const pill = document.createElement('div');
    pill.className = 'cat-pill' + (i===0? ' active':'');
    pill.textContent = c;
    pill.onclick = ()=>{ document.querySelectorAll('.cat-pill').forEach(x=>x.classList.remove('active')); pill.classList.add('active'); filterCategory(c); document.querySelectorAll('#catList li').forEach(x=>x.classList.remove('active')); document.querySelectorAll('#catList li')[i].classList.add('active'); }
    catsBar.appendChild(pill);

    const li = document.createElement('li');
    li.textContent = c;
    if(i===0) li.classList.add('active');
    li.onclick = ()=>{ document.querySelectorAll('#catList li').forEach(x=>x.classList.remove('active')); li.classList.add('active'); filterCategory(c); document.querySelectorAll('.cat-pill').forEach(x=>x.classList.remove('active')); pill.classList.add('active'); }
    catListEl.appendChild(li);
  });
}

function renderVendors(){
  vendorsEl.innerHTML=''; vendorLogos.innerHTML='';
  VENDORS.forEach(u=>{
    const img = document.createElement('img'); img.src = u; img.alt='vendor';
    vendorsEl.appendChild(img);
    const img2 = document.createElement('img'); img2.src = u; vendorLogos.appendChild(img2);
  });
}

function createCard(p){
  const card = document.createElement('div'); card.className = 'product-card';
  card.innerHTML = `
    <div class="product-media"><img src="${p.img}" alt="${p.title}"></div>
    <div class="product-body">
      <div style="display:flex;justify-content:space-between;align-items:flex-start">
        <div style="font-size:12px;color:var(--muted)">${p.cat}</div>
        <div class="stars">${'â˜…'.repeat(p.stars)}</div>
      </div>
      <div class="product-title">${p.title}</div>
      <div class="product-desc">${p.desc}</div>
      <div class="price-row">
        <div class="price">${p.price} Ø¯.Ù„</div>
        <div><a href="#" class="buy-btn" data-id="${p.id}" style="text-decoration:none;padding:8px 10px;border-radius:8px;background:var(--accent);color:#fff;font-weight:800">Ø§Ø·Ù„Ø¨</a></div>
      </div>
    </div>
  `;
  return card;
}

function populateGrids(){
  bestGrid.innerHTML=''; popularGrid.innerHTML='';
  PRODUCTS.slice(0,6).forEach(p=> bestGrid.appendChild(createCard(p)));
  PRODUCTS.forEach(p=> popularGrid.appendChild(createCard(p)));
}

function renderReviews(){
  reviewsEl.innerHTML = '';
  REVIEWS.forEach(r=>{
    const d = document.createElement('div'); d.className='review';
    d.innerHTML = `<div style="font-weight:900">${r.name} <span style="color:#f5b400">${'â˜…'.repeat(r.stars)}</span></div><div style="color:var(--muted);margin-top:8px">${r.txt}</div>`;
    reviewsEl.appendChild(d);
  });
}

/* ====== Search & Filter ====== */
function filterCategory(cat){
  if(cat==='Ø§Ù„ÙƒÙ„'){ populateGrids(); return; }
  const filtered = PRODUCTS.filter(p=> p.cat === cat);
  bestGrid.innerHTML = ''; popularGrid.innerHTML = '';
  if(filtered.length===0){ bestGrid.innerHTML = '<div style="padding:12px;color:var(--muted)">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù….</div>'; return; }
  filtered.forEach(p=> bestGrid.appendChild(createCard(p)));
  window.scrollTo({top:220,behavior:'smooth'});
}

document.getElementById('searchBtn').onclick = ()=>{ const q = document.getElementById('quickSearch').value.trim().toLowerCase(); searchProducts(q); }
document.getElementById('globalSearch').addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ searchProducts(e.target.value); document.getElementById('quickSearch').value = e.target.value } });

function searchProducts(q){
  if(!q){ populateGrids(); return; }
  const results = PRODUCTS.filter(p=> (p.title + ' ' + p.desc + ' ' + p.cat).toLowerCase().includes(q.toLowerCase()));
  bestGrid.innerHTML=''; popularGrid.innerHTML='';
  if(results.length===0){ bestGrid.innerHTML = '<div style="padding:12px;color:var(--muted)">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬.</div>'; return; }
  results.forEach(p=> bestGrid.appendChild(createCard(p)));
}

/* ====== Cart functionality ====== */
function saveCart(){ localStorage.setItem('velora_cart', JSON.stringify(cart)); updateCartUI(); }
function updateCartUI(){
  document.getElementById('fabCount').textContent = cart.reduce((s,i)=>s+i.qty,0);
  const items = document.getElementById('cartItems');
  if(!items) return;
  items.innerHTML = '';
  if(cart.length===0){ items.innerHTML = '<div style="padding:12px;color:var(--muted)">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©.</div>'; }
  cart.forEach(it=>{
    const row = document.createElement('div'); row.style.display='flex'; row.style.gap='10px'; row.style.alignItems='center'; row.style.marginBottom='10px';
    row.innerHTML = `<img src="${it.img}" style="width:70px;height:60px;object-fit:cover;border-radius:8px">
      <div style="flex:1"><div style="font-weight:800">${it.title}</div><div style="color:var(--muted)">Ø§Ù„ÙƒÙ…ÙŠØ©: <input type="number" min="1" value="${it.qty}" data-id="${it.id}" style="width:60px;padding:6px;border-radius:6px;border:1px solid #eee"></div></div>
      <div style="font-weight:900">${it.price * it.qty} Ø¯.Ù„</div>
      <button data-id="${it.id}" class="remove-btn" style="background:#fff;border:1px solid #eee;padding:6px;border-radius:8px;margin-right:8px;cursor:pointer">Ø­Ø°Ù</button>`;
    items.appendChild(row);
  });
  items.querySelectorAll('input[type="number"]').forEach(inp=>{
    inp.onchange = function(){ const id = Number(this.getAttribute('data-id')); const v = Math.max(1, Number(this.value)||1); const it = cart.find(x=>x.id===id); if(it){ it.qty = v; saveCart(); } }
  });
  items.querySelectorAll('.remove-btn').forEach(btn=>{
    btn.onclick = function(){ const id = Number(this.getAttribute('data-id')); cart = cart.filter(x=>x.id!==id); saveCart(); }
  });
  const subtotal = cart.reduce((s,i)=>s+i.price*i.qty,0);
  document.getElementById('subtotal').textContent = subtotal + ' Ø¯.Ù„';
  document.getElementById('totalAmount').textContent = (subtotal + (cart.length? DELIVERY:0)) + ' Ø¯.Ù„';
}

document.addEventListener('click', function(e){
  if(e.target && e.target.matches('.buy-btn')){
    e.preventDefault();
    const id = Number(e.target.getAttribute('data-id'));
    addToCart(id);
    openDrawer();
  }
  if(e.target && e.target.id === 'cartFab'){ openDrawer(); }
  if(e.target && e.target.id === 'closeDrawer'){ closeDrawer(); }
});

/* add to cart */
function addToCart(id){
  const p = PRODUCTS.find(x=>x.id===id); if(!p) return;
  const ex = cart.find(i=>i.id===id);
  if(ex){ ex.qty += 1 } else { cart.push({id:p.id,title:p.title,price:p.price,qty:1,img:p.img}) }
  saveCart();
  toast('ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©');
}

/* drawer open/close */
const cartDrawer = document.getElementById('cartDrawer');
function openDrawer(){ cartDrawer.classList.add('open'); cartDrawer.setAttribute('aria-hidden','false'); updateCartUI(); }
function closeDrawer(){ cartDrawer.classList.remove('open'); cartDrawer.setAttribute('aria-hidden','true'); }

/* cart FAB hookup */
document.getElementById('cartFab').addEventListener('click', ()=> { openDrawer(); });

/* order form -> open whatsapp */
document.getElementById('orderForm').onsubmit = function(e){
  e.preventDefault();
  if(cart.length===0){ alert('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©'); return; }
  const fd = new FormData(e.target);
  const name = fd.get('name'); const phone = fd.get('phone'); const address = fd.get('address');
  const subtotal = cart.reduce((s,i)=>s+i.price*i.qty,0);
  const total = subtotal + (cart.length? DELIVERY:0);
  let msg = `Ø·Ù„Ø¨ Ù…Ù† Velora%0A----------------%0AØ§Ù„Ø§Ø³Ù…: ${encodeURIComponent(name)}%0AØ§Ù„Ù‡Ø§ØªÙ: ${encodeURIComponent(phone)}%0AØ§Ù„Ø¹Ù†ÙˆØ§Ù†: ${encodeURIComponent(address)}%0A----------------%0AØ§Ù„Ù…Ù†ØªØ¬Ø§Øª:%0A`;
  cart.forEach(it=> msg += `${encodeURIComponent(it.title)} - ${it.qty} Ã— ${it.price} Ø¯.Ù„%0A`);
  msg += `%0AØ§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙØ±Ø¹ÙŠ: ${subtotal} Ø¯.Ù„%0AØ±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„: ${DELIVERY} Ø¯.Ù„%0AØ§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total} Ø¯.Ù„%0A%0A(Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…)`;
  const waUrl = `https://wa.me/${WA}?text=${msg}`;
  window.open(waUrl,'_blank');
  cart = []; saveCart();
  document.getElementById('orderMsg').textContent = 'ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨ â€” Ø³ÙŠØªÙ… ÙØªØ­ ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ø¥Ø±Ø³Ø§Ù„Ù‡.';
  setTimeout(()=>{ closeDrawer(); document.getElementById('orderMsg').textContent = '' },900);
};

/* toast */
function toast(txt){
  const t = document.createElement('div'); t.style.position='fixed'; t.style.top='80px'; t.style.left='50%'; t.style.transform='translateX(-50%)'; t.style.background='rgba(0,0,0,0.75)'; t.style.color='white'; t.style.padding='10px 16px'; t.style.borderRadius='999px'; t.style.zIndex=9999; t.textContent=txt;
  document.body.appendChild(t); setTimeout(()=>t.remove(),1400);
}

/* slider simple */
const heroImages = [
  "https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=1400&auto=format&fit=crop",
  "https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?q=80&w=1400&auto=format&fit=crop",
  "https://images.unsplash.com/photo-1505740420928-5e560c06d30e?q=80&w=1400&auto=format&fit=crop"
];
let slideIndex = 0;
const dots = document.querySelectorAll('.dot');
function showSlide(i){
  slideIndex = (i + heroImages.length) % heroImages.length;
  heroImage.src = heroImages[slideIndex];
  document.querySelectorAll('.dot').forEach(d=>d.classList.remove('active'));
  document.querySelectorAll('.dot')[slideIndex].classList.add('active');
}
document.querySelectorAll('.dot').forEach(d=> d.addEventListener('click', ()=> showSlide(Number(d.getAttribute('data-i')))));
setInterval(()=> showSlide(slideIndex+1),7000);

/* vendor logos render */
function populateAll(){
  renderCats(); renderVendors(); populateGrids(); renderReviews(); updateCartUI();
}
populateAll();

/* save cart automatically */
window.addEventListener('beforeunload', ()=> localStorage.setItem('velora_cart',JSON.stringify(cart)));

/* small helper: initial hero */
showSlide(0);
</script>
</body>
  </html>
